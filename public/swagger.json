{"swagger":"2.0","info":{"version":"1.0.0","title":"Swagger Docs supermarket API","description":"Documentation for directional boring api ","termsOfService":"http://helloreverb.com/terms/","contact":{"name":"Supermarket API"},"license":{"name":"MIT"}},"tags":[{"name":"Supermarket API","description":"Supermarket API operations"}],"host":"localhost:3000","basePath":"/v1","consumes":["application/json"],"produces":["application/json"],"securityDefinitions":{"auth":{"type":"apiKey","name":"Authorization","in":"header"}},"paths":{"/user_token":{"post":{"description":"get a token by registered user","operationId":"getToken","produces":["application/json"],"tags":["Auth"],"parameters":[{"in":"body","name":"auth","description":"Get a token from auth","required":true,"schema":{"$ref":"#/definitions/Authentication"}}],"responses":{"200":{"description":"auth response","schema":{"$ref":"#/definitions/AuthResponse"}}}}},"/users":{"get":{"sumary":"Get all users","description":"Returns all users","operationId":"indexUsers","produces":["application/json"],"tags":["Users"],"security":[{"auth":[]}],"responses":{"200":{"description":"users response"}}},"post":{"description":"Creates a new user at store. Email is unique","operationId":"addUser","produces":["application/json"],"tags":["Users"],"parameters":[{"in":"body","name":"user","description":"Add user to store","required":true,"schema":{"$ref":"#/definitions/UserInput"}}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/User"}}}}},"/users/{id}":{"get":{"description":"Returns a single user","operationId":"findUserById","produces":["application/json"],"tags":["Users"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of user","required":true,"type":"integer"}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/User"}}}},"put":{"description":"Update user informations","operationId":"updateUser","produces":["application/json"],"tags":["Users"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of user","required":true,"type":"integer"},{"in":"body","name":"user","description":"Update user at store","required":true,"schema":{"$ref":"#/definitions/User"}}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/User"}}}},"delete":{"summary":"Delete an User","description":"Delete an User","operationId":"deleteUser","tags":["Users"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of User","required":true,"type":"integer"}],"responses":{"204":{"description":"user deleted"}}}},"/supermarkets":{"get":{"sumary":"Get all supermarkets","description":"Returns all supermarkets","operationId":"indexSupermarkets","produces":["application/json"],"tags":["Supermarkets"],"security":[{"auth":[]}],"responses":{"200":{"description":"supermarkets response"}}},"post":{"description":"Creates a new supermarket at store. Email is unique","operationId":"addSupermarket","produces":["application/json"],"tags":["Supermarkets"],"security":[{"auth":[]}],"parameters":[{"in":"body","name":"supermarket","description":"Add supermarket to store","required":true,"schema":{"$ref":"#/definitions/SupermarketInput"}}],"responses":{"200":{"description":"supermarket response","schema":{"$ref":"#/definitions/Supermarket"}}}}},"/supermarkets/{id}":{"get":{"description":"Returns a single supermarket","operationId":"findSupermarketById","produces":["application/json"],"tags":["Supermarkets"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of supermarket","required":true,"type":"integer"}],"responses":{"200":{"description":"supermarket response","schema":{"$ref":"#/definitions/Supermarket"}}}},"put":{"description":"Update supermarket informations","operationId":"updateSupermarket","produces":["application/json"],"tags":["Supermarkets"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"body","name":"supermarket","description":"Update supermarket at store","required":true,"schema":{"$ref":"#/definitions/SupermarketInput"}}],"responses":{"200":{"description":"supermarket response","schema":{"$ref":"#/definitions/Supermarket"}}}},"delete":{"summary":"Delete an Supermarket","description":"Delete an Supermarket","operationId":"deleteSupermarket","tags":["Supermarkets"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of Supermarket","required":true,"type":"integer"}],"responses":{"204":{"description":"supermarket deleted"}}}},"/products":{"get":{"sumary":"Get all products","description":"Returns all products","operationId":"indexProducts","produces":["application/json"],"tags":["Products"],"security":[{"auth":[]}],"responses":{"200":{"description":"products response"}}},"post":{"description":"Creates a new product at store.","operationId":"addProduct","produces":["application/json"],"tags":["Products"],"security":[{"auth":[]}],"parameters":[{"in":"body","name":"product","description":"Add product to store","required":true,"schema":{"$ref":"#/definitions/ProductInput"}}],"responses":{"200":{"description":"product response","schema":{"$ref":"#/definitions/Product"}}}}},"/products/{id}":{"get":{"description":"Returns a single product","operationId":"findSupermarketById","produces":["application/json"],"tags":["Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of product","required":true,"type":"integer"}],"responses":{"200":{"description":"product response","schema":{"$ref":"#/definitions/Product"}}}},"put":{"description":"Update product informations","operationId":"updateProduct","produces":["application/json"],"tags":["Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of product","required":true,"type":"integer"},{"in":"body","name":"product","description":"Update product at store","required":true,"schema":{"$ref":"#/definitions/ProductInput"}}],"responses":{"200":{"description":"product response","schema":{"$ref":"#/definitions/Product"}}}},"delete":{"summary":"Delete an Product","description":"Delete an Product","operationId":"deleteProduct","tags":["Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of Product","required":true,"type":"integer"}],"responses":{"204":{"description":"product deleted"}}}},"/products/barcode/{barcode}":{"get":{"sumary":"Find a product by barcode","description":"Returns a product by barcode","operationId":"findByBarcodeAProduct","produces":["application/json"],"tags":["Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"barcode","description":"Barcode of Product","required":true,"type":"string"}],"responses":{"200":{"description":"products response"}}}},"/supermarkets/{supermarket_id}/products":{"get":{"sumary":"Get all products","description":"Returns all products from a supermarket","operationId":"indexSupermarketProducts","produces":["application/json"],"tags":["Supermarket Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"}],"responses":{"200":{"description":"supermarket products response"}}},"post":{"description":"Creates a new product at store.","operationId":"addSupermarketProducts","produces":["application/json"],"tags":["Supermarket Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"body","name":"product","description":"Add product to supermarket","required":true,"schema":{"$ref":"#/definitions/SupermarketProductInput"}}],"responses":{"200":{"description":"product response","schema":{"$ref":"#/definitions/SupermarketProduct"}}}}},"/supermarkets/{supermarket_id}/products/{id}":{"get":{"description":"Returns a single product","operationId":"findSupermarketProductById","produces":["application/json"],"tags":["Supermarket Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"path","name":"id","description":"Id of product","required":true,"type":"integer"}],"responses":{"200":{"description":"product response","schema":{"$ref":"#/definitions/SupermarketProduct"}}}},"put":{"description":"Update product informations from supermarket","operationId":"updateSupermarketProduct","produces":["application/json"],"tags":["Supermarket Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"body","name":"supermarket","description":"Update supermarket at store","required":true,"schema":{"$ref":"#/definitions/SupermarketProductInput"}}],"responses":{"200":{"description":"supermarket response","schema":{"$ref":"#/definitions/SupermarketProduct"}}}},"delete":{"summary":"Delete an Product","description":"Delete an Product","operationId":"deleteProduct","tags":["Supermarket Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of Product","required":true,"type":"integer"}],"responses":{"204":{"description":"product deleted"}}}},"/supermarkets/{supermarket_id}/products/create-add":{"post":{"description":"Creates a new product and add to a supermarket.","operationId":"createProductAddSupermarketProducts","produces":["application/json"],"tags":["Supermarket Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"body","name":"product","description":"Create product and add to supermarket","required":true,"schema":{"$ref":"#/definitions/ProductSupermarketProductInput"}}],"responses":{"200":{"description":"supermarket product response"}}}},"/supermarkets/{supermarket_id}/products/barcode/{barcode}":{"get":{"sumary":"Get product by barcode in a supermarket","description":"Returns a product from a supermarket by barcode","operationId":"finbProductSupermarketProductByBarcode","produces":["application/json"],"tags":["Supermarket Products"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"path","name":"barcode","description":"Id of supermarket","required":true,"type":"string"}],"responses":{"200":{"description":"supermarket products response"}}}},"/supermarkets/{supermarket_id}/address":{"get":{"sumary":"Get supermarket address","description":"Returns the supermarket's address","operationId":"indexSupermarketAddress","produces":["application/json"],"tags":["Supermarket Address"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"}],"responses":{"200":{"description":"supermarket address response"}}},"post":{"description":"Creates a new supermarket address.","operationId":"createSupermarketAddress","produces":["application/json"],"tags":["Supermarket Address"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"body","name":"supermarket_address","description":"Create a supermarket address","required":true,"schema":{"$ref":"#/definitions/SupermarketAddressInput"}}],"responses":{"200":{"description":"supermarket address response","schema":{"$ref":"#/definitions/SupermarketAddress"}}}}},"/supermarkets/{supermarket_id}/address/{id}":{"put":{"description":"Update a supermarket address","operationId":"updateSupermarketAddress","produces":["application/json"],"tags":["Supermarket Address"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"body","name":"supermarket","description":"Update a supermarket address","required":true,"schema":{"$ref":"#/definitions/SupermarketAddressInput"}}],"responses":{"200":{"description":"supermarket address response","schema":{"$ref":"#/definitions/SupermarketAddress"}}}},"delete":{"summary":"Delete a Supermarket address","description":"Delete Supermarket address","operationId":"deleteSupermarketAddress","tags":["Supermarket Address"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of supermarket address","required":true,"type":"integer"}],"responses":{"204":{"description":"supermarket address deleted"}}}},"/supermarkets/{supermarket_id}/products/{product_id}/prices":{"get":{"sumary":"Get all prices from a product in supermarket","description":"Returns all products from a supermarket","operationId":"indexSupermarketProductsPrices","produces":["application/json"],"tags":["Supermarket Product Prices"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"path","name":"product_id","description":"Id of product","required":true,"type":"integer"}],"responses":{"200":{"description":"supermarket product prices response"}}},"post":{"description":"Creates a new price in a product at supermarket.","operationId":"addSupermarketProductPrices","produces":["application/json"],"tags":["Supermarket Product Prices"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"path","name":"product_id","description":"Id of product at supermarket","required":true,"type":"integer"},{"in":"body","name":"supermarket_product_price","description":"Add price to a product in a supermarket","required":true,"schema":{"$ref":"#/definitions/SupermarketProductPriceInput"}}],"responses":{"200":{"description":"supermarket product price response","schema":{"$ref":"#/definitions/SupermarketProductPrice"}}}}},"/supermarkets/{supermarket_id}/products/{product_id}/prices/{id}":{"get":{"description":"Returns a single supermarket product price","operationId":"findSupermarketProductPriceById","produces":["application/json"],"tags":["Supermarket Product Prices"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"path","name":"product_id","description":"Id of product at supermarket","required":true,"type":"integer"},{"in":"path","name":"id","description":"Id of a supermarket product price","required":true,"type":"integer"}],"responses":{"200":{"description":"product response","schema":{"$ref":"#/definitions/SupermarketProductPrice"}}}},"put":{"description":"Update product informations from supermarket","operationId":"updateSupermarketProductPrice","produces":["application/json"],"tags":["Supermarket Product Prices"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"path","name":"product_id","description":"Id of product at supermarket","required":true,"type":"integer"},{"in":"path","name":"id","description":"Id of a supermarket product price","required":true,"type":"integer"},{"in":"body","name":"supermarket","description":"Update supermarket at store","required":true,"schema":{"$ref":"#/definitions/SupermarketProductPriceInput"}}],"responses":{"200":{"description":"supermarket product priceresponse","schema":{"$ref":"#/definitions/SupermarketProductPrice"}}}},"delete":{"summary":"Delete a supermarket product price","description":"Delete a supermarket product price","operationId":"deleteSupermarketProductPrice","tags":["Supermarket Product Prices"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"id","description":"Id of Supermarket Product Price","required":true,"type":"integer"}],"responses":{"204":{"description":"supermarket product price deleted"}}}},"/supermarkets/{supermarket_id}/products/{product_id}/prices/date-range":{"post":{"description":"Find prices by range in a product at supermarket.","produces":["application/json"],"operationId":"findSupermarketProductPricesByRange","tags":["Supermarket Product Prices"],"security":[{"auth":[]}],"parameters":[{"in":"path","name":"supermarket_id","description":"Id of supermarket","required":true,"type":"integer"},{"in":"path","name":"product_id","description":"Id of product at supermarket","required":true,"type":"integer"},{"in":"body","name":"supermarket_product_price","description":"Add price to a product in a supermarket","required":true,"schema":{"$ref":"#/definitions/SupermarketProductPriceRangeInput"}}],"responses":{"200":{"description":"supermarket product price response","schema":{"$ref":"#/definitions/SupermarketProductPrice"}}}}}},"definitions":{"Authentication":{"properties":{"auth":{"properties":{"email":{"type":"string"},"password":{"type":"string"}},"format":"object"}}},"AuthResponse":{"properties":{"jwt":{"type":"string"}}},"User":{"format":"object","required":["data","included"],"properties":{"data":{"format":"object","required":["id","type","attributes","relationships"],"properties":{"id":{"type":"integer"},"type":{"type":"string"},"attributes":{"format":"object","required":["name","email","password"],"properties":{"id":{"type":"integer"},"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"relationships":{"format":"object","required":["roles"],"properties":{"roles":{"format":"object","required":["data"],"properties":{"data":{"format":"object","required":["id","type"],"properties":{"id":{"type":"integer"},"type":{"type":"string"}}}}}}}}},"included":{"format":"object","required":["id","type","attributes"],"properties":{"id":{"type":"integer"},"type":{"type":"string"},"attributes":{"format":"object","required":["id","name"],"properties":{"id":{"type":"integer"},"name":{"type":"string"}}}}}}},"UserInput":{"required":["user"],"properties":{"user":{"format":"object","required":["name","email","password"],"properties":{"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}}}},"Supermarket":{"format":"object","required":["data"],"properties":{"data":{"format":"object","required":["attributes","type","id"],"properties":{"id":{"type":"integer"},"type":{"type":"string"},"attributes":{"required":["id","name","description"],"properties":{"id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"}}}}}}},"SupermarketInput":{"required":["supermarket"],"properties":{"supermarket":{"format":"object","required":["name","description"],"properties":{"name":{"type":"string"},"description":{"type":"string"}}}}},"Product":{"required":["data"],"properties":{"data":{"format":"object","required":["id","type"],"properties":{"id":{"type":"integer"},"type":{"type":"string"},"attributes":{"format":"object","required":["id","name","description","barcode","brand","quantity","unit_measure"],"properties":{"id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"barcode":{"type":"string"},"brand":{"type":"string"},"quantity":{"type":"number"},"unit_measure":{"type":"string"}}}}}}},"ProductInput":{"required":["product"],"properties":{"product":{"format":"object","required":["name","description","barcode","brand","quantity","unit_measure"],"properties":{"name":{"type":"string"},"description":{"type":"string"},"barcode":{"type":"string"},"brand":{"type":"string"},"quantity":{"type":"number"},"unit_measure":{"type":"string"}}}}},"SupermarketProduct":{"required":["data"],"properties":{"data":{"required":["id","type","attributes"],"properties":{"id":{"type":"integer"},"type":{"type":"string"},"attributes":{"type":"object","required":["id","price","quantity","unit_measure"],"properties":{"id":{"type":"integer"},"price":{"$ref":"#/definitions/SupermarketProductPriceAttributes"}}},"relationships":{"format":"object","properties":{"product":{"format":"object","required":["data"],"properties":{"data":{"format":"object","required":["id","type"],"properties":{"id":{"type":"integer"},"type":{"type":"string"}}}}}}}}},"included":{"required":["id","type","attributes"],"properties":{"id":{"type":"integer"},"type":{"type":"string"},"attributes":{"$ref":"#/definitions/Product"}}}}},"SupermarketProductInputAttributes":{"required":["product_id","price"],"properties":{"product_id":{"type":"integer"},"supermarket_product_prices_attributes":{"type":"array","items":{"required":["price"],"properties":{"price":{"type":"number"}}}}}},"SupermarketProductPriceInputAttributes":{"properties":{"supermarket_product_prices_attributes":{"format":"object","required":["price"],"properties":{"price":{"type":"number"}}}}},"SupermarketProductInput":{"required":["supermarket_product"],"properties":{"supermarket_product":{"$ref":"#/definitions/SupermarketProductInputAttributes"}}},"ProductSupermarketProductInput":{"$ref":"#/definitions/ProductInput","properties":{"supermarket_product":{"$ref":"#/definitions/SupermarketProductPriceInputAttributes"}}},"SupermarketAddress":{"required":["data"],"properties":{"data":{"format":"object","required":["id","type"],"properties":{"id":{"type":"integer"},"type":{"type":"string"},"attributes":{"format":"object","required":["id","lat","lng","street_number","street_name","neighborhood","city","state","zip","country"],"properties":{"id":{"type":"integer"},"lat":{"type":"number"},"lng":{"type":"number"},"street_number":{"type":"string"},"street_name":{"type":"string"},"neighborhood":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zip":{"type":"string"},"country":{"type":"string"},"place_id":{"type":"string"}}}}}}},"SupermarketAddressInput":{"required":["product"],"properties":{"supermarket_address":{"format":"object","required":["id","lat","lng","street_number","street_name","neighborhood","city","state","zip","country"],"properties":{"lat":{"type":"number"},"lng":{"type":"number"},"street_number":{"type":"string"},"street_name":{"type":"string"},"neighborhood":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"zip":{"type":"string"},"country":{"type":"string"},"place_id":{"type":"string"}}}}},"SupermarketProductPrice":{"required":["data"],"properties":{"data":{"required":["id","type","attributes"],"properties":{"id":{"type":"integer"},"type":{"type":"string"},"attributes":{"$ref":"#/definitions/SupermarketProductPriceAttributes"}}}}},"SupermarketProductPriceInput":{"required":["supermarket_products"],"properties":{"supermarket_product_price":{"format":"object","required":["price"],"properties":{"price":{"type":"number"}}}}},"SupermarketProductPriceAttributes":{"format":"object","required":["id","price","created_at"],"properties":{"id":{"type":"integer"},"price":{"type":"number"},"created_at":{"type":"string","format":"date"}}},"SupermarketProductPriceRangeInput":{"required":["supermarket_product_price"],"properties":{"supermarket_product_price":{"format":"object","required":["started_at","ended_at"],"properties":{"started_at":{"format":"date","type":"string"},"ended_at":{"format":"date","type":"string"}}}}}}}